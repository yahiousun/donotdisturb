/*! donotdisturb - v0.0.1 - 2015-10-02
* Copyright (c) 2015 yahiousun; Licensed MIT */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b){"use strict";var c=function(b,c){this.$element=a(a(b).is(document.body)?window:b),this.$irrelevant=a(c.selector),this.options=c,this.initialize()};c.prototype={constructor:c,istyping:!1,active:!1,offset:0,initialize:function(){var b=this;b.$element.length&&b.$irrelevant.length&&(b.options.transition===!0&&(b.options.transition=a.fn.donotdisturb.options.transition),b.options.transition&&a.support.transition&&b.$irrelevant.addClass(b.options.transition),b.options.scrollspy&&b.$element.on("scroll",function(){b.scrollspy()}),b.options.typingspy&&(b.$element.on("focus.donotdisturb","input",function(a){b.typingspy(a)}),b.$element.on("blur.donotdisturb","input",function(a){b.typingspy(a)})),b.offset=b.$element.scrollTop())},show:function(){var b=this;b.active&&(b.$irrelevant.css("display","block"),b.options.transition&&a.support.transition&&(b.$irrelevant[0].offsetWidth,b.$irrelevant.off(a.support.transition.end+".donotdisturb").addClass(b.options.transition)),b.active=!1)},hide:function(){var b=this;b.active||(b.options.transition&&a.support.transition?(b.$irrelevant.one(a.support.transition.end+".donotdisturb",function(){b.$irrelevant.css("display","none")}),b.$irrelevant.removeClass(b.options.transition)):b.$irrelevant.removeClass(b.options.transition).css("display","none"),b.active=!0)},scrollspy:function(){var a=this,b=a.$element.scrollTop()-a.offset;a.offset=a.$element.scrollTop(),a.istyping||(0>b?!a.istyping&&a.active&&a.show():b>0&&(a.active||a.hide()))},typingspy:function(a){var b=this;"focusin"===a.type?(b.istyping=!0,b.hide()):"focusout"===a.type&&(b.istyping=!1,b.options.scrollspy?b.$element.scrollTop()||b.show():b.show())}},a.fn.donotdisturb=function(b){return b=a.extend({},a.fn.donotdisturb.options,b),this.each(function(){a(this).data("donotdisturb")||a(this).data("donotdisturb",new c(this,b))})},a.fn.donotdisturb.options={selector:'[data-irrelevant="donotdisturb"]',scrollspy:!0,typingspy:!0,transition:"in"},a(document).ready(function(){a('[data-spy="donotdisturb"]').each(function(){var b=a(this);b.donotdisturb(b.data())})})});